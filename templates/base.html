<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Chin Hon Motors{% endblock %}</title>

    <link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
        crossorigin="anonymous"
    >

    <style>
        /* YOUR ORIGINAL CSS - UNTOUCHED */
        .custom-navbar { background-color: #1a1a1a; padding: 1rem 0; border-bottom: 1px solid #2a2a2a; }
        .navbar-brand { font-weight: 700; color: white !important; }
        .navbar-nav .nav-link { color: #e0e0e0 !important; margin: 0 0.3rem; }
        .navbar-nav .nav-link:hover { background-color: #333; border-radius: 5px; }
        .dropdown-menu { background-color: #222; }
        .dropdown-item { color: #ddd; }
        .dropdown-item:hover { background-color: #333; color: white; }
        .navbar-brand { padding: 0; }
        .navbar-brand img { display: block; height: 40px; width: auto; background: transparent; }
        .navbar { background-color: #343a40; }
        .analysis-page { padding: 30px; background: #ffffff; color: #111; }
        .analysis-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; }
        .analysis-header h1 { margin: 0; font-size: 26px; }
        .header-actions { display: flex; gap: 12px; }
        .btn-outline { background: white; border: 1px solid #111; padding: 8px 14px; cursor: pointer; }
        .btn-solid { background: #111; color: white; border: none; padding: 8px 14px; cursor: pointer; }
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; margin-bottom: 30px; }
        .metric-card { border: 1px solid #ddd; padding: 16px; border-radius: 8px; background: #f9f9f9; }
        .metric-label { font-size: 13px; color: #666; margin-bottom: 6px; }
        .metric-card h2 { margin: 0; font-size: 22px; }
        .metric-positive { color: #111; font-size: 13px; }
        .metric-negative { color: #444; font-size: 13px; }
        .metric-neutral { color: #777; font-size: 13px; }
        .charts-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .chart-card { border: 1px solid #ddd; padding: 16px; border-radius: 10px; background: #fff; }
        .chart-card.wide { grid-column: span 2; }
        .chart-card h3 { margin-top: 0; font-size: 16px; }
        .chart-placeholder { height: 220px; border: 1px dashed #aaa; display: flex; align-items: center; justify-content: center; color: #777; font-size: 14px; background: #fafafa; }
        
        /* Allowing child pages to add their own CSS if needed */
        {% block extra_css %}{% endblock %}
    </style>
</head>
<body>

    {% if role in ['employee', 'admin', 'superowner'] %}
        {% include 'includes/admin_navbar.html' %}
    {% else %}
        {% include 'includes/customer_navbar.html' %}
    {% endif %}

    <div class="container-fluid mt-4">
        {% block content %}{% endblock %}
    </div>

    {% include 'includes/footer.html' %}

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    {% block scripts %}{% endblock %}

</body>
</html>
