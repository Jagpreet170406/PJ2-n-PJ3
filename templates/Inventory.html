{% extends "base.html" %}

{% block title %}Inventory{% endblock %}

{% block content %}

<style>
body {
    font-family: Arial, sans-serif;
    background: #000;
    color: #fff;
    padding: 20px;
}

h1 {
    font-size: 28px;
    margin-bottom: 10px;
}

.controls {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.controls input, .controls select {
    padding: 8px 12px;
    border-radius: 10px;
    border: 1px solid #333;
    background: #111;
    color: #fff;
}

.grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
}

.card {
    background: #111;
    padding: 10px;
    border-radius: 10px;
    border: 1px solid #222;
    transition: 0.2s;
}

.card:hover {
    background: #1f1f1f;
}

.img-placeholder {
    background: #1a1a1a;
    height: 150px;
    border-radius: 5px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #777;
    margin-bottom: 8px;
}

.stock {
    font-size: 13px;
}

.low {
    color: orange;
}

.critical {
    color: red;
}
</style>

<div>
    <h1>Inventory</h1>
    
    <div class="controls">
        <input type="text" id="searchInput" placeholder="Search products...">
        <select id="sortSelect">
            <option value="">Sort by</option>
            <option value="name">Name (Aâ€“Z)</option>
            <option value="stock">Stock (High â†’ Low)</option>
        </select>
    </div>
    
    <div class="grid" id="productGrid">

        <!-- PRODUCT CARDS -->
        <div class="card" data-name="Shell Engine Oil" data-stock="120">
            <div class="img-placeholder">Image</div>
            <div>Shell Engine Oil</div>
            <div class="stock">Stock: 120 L</div>
        </div>

        <div class="card" data-name="Sinopec Engine Oil" data-stock="110">
            <div class="img-placeholder">Image</div>
            <div>Sinopec Engine Oil</div>
            <div class="stock">Stock: 110 L</div>
        </div>

        <div class="card" data-name="Windshield Wiper" data-stock="100">
            <div class="img-placeholder">Image</div>
            <div>Windshield Wiper</div>
            <div class="stock">Stock: 100 pcs</div>
        </div>

        <div class="card" data-name="Caltex Engine Oil" data-stock="95">
            <div class="img-placeholder">Image</div>
            <div>Caltex Engine Oil</div>
            <div class="stock">Stock: 95 L</div>
        </div>

        <div class="card" data-name="Engine Coolant" data-stock="90">
            <div class="img-placeholder">Image</div>
            <div>Engine Coolant</div>
            <div class="stock">Stock: 90 L</div>
        </div>

        <div class="card" data-name="Esso Engine Oil" data-stock="80">
            <div class="img-placeholder">Image</div>
            <div>Esso Engine Oil</div>
            <div class="stock low">Stock: 80 L âš  Low</div>
        </div>

        <div class="card" data-name="Smart Energy Engine Oil" data-stock="75">
            <div class="img-placeholder">Image</div>
            <div>Smart Energy Engine Oil</div>
            <div class="stock low">Stock: 75 L âš  Low</div>
        </div>

        <div class="card" data-name="Transmission Oil" data-stock="70">
            <div class="img-placeholder">Image</div>
            <div>Transmission Oil</div>
            <div class="stock low">Stock: 70 L âš  Low</div>
        </div>

        <div class="card" data-name="SPC Engine Oil" data-stock="60">
            <div class="img-placeholder">Image</div>
            <div>SPC Engine Oil</div>
            <div class="stock critical">Stock: 60 L ðŸ”´ Critical</div>
        </div>

        <div class="card" data-name="Brake Fluid" data-stock="50">
            <div class="img-placeholder">Image</div>
            <div>Brake Fluid</div>
            <div class="stock low">Stock: 50 L âš  Low</div>
        </div>

        <div class="card" data-name="Tire" data-stock="40">
            <div class="img-placeholder">Image</div>
            <div>Tire</div>
            <div class="stock critical">Stock: 40 pcs ðŸ”´ Critical</div>
        </div>

        <div class="card" data-name="Car Battery" data-stock="30">
            <div class="img-placeholder">Image</div>
            <div>Car Battery</div>
            <div class="stock critical">Stock: 30 pcs ðŸ”´ Critical</div>
        </div>

    </div>
</div>

<script>
// Grab elements
const searchInput = document.getElementById("searchInput");
const sortSelect = document.getElementById("sortSelect");
const productGrid = document.getElementById("productGrid");

// Search function
function filterProducts() {
    const text = searchInput.value.toLowerCase();
    document.querySelectorAll(".card").forEach(card => {
        const name = card.dataset.name.toLowerCase();
        card.style.display = name.includes(text) ? "block" : "none";
    });
}

// Sort function
function sortProducts() {
    const type = sortSelect.value;
    const cards = Array.from(document.querySelectorAll(".card"));

    if (type === "name") {
        cards.sort((a, b) => a.dataset.name.localeCompare(b.dataset.name));
    } else if (type === "stock") {
        cards.sort((a, b) => b.dataset.stock - a.dataset.stock);
    }

    cards.forEach(card => productGrid.appendChild(card));
}

// Event listeners
searchInput.addEventListener("keyup", filterProducts);
sortSelect.addEventListener("change", sortProducts);

// Initial sort by stock
sortProducts();
</script>

{% endblock %}
